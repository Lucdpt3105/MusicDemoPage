<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="../../src/styles/main.css" rel="stylesheet" />
    <title>Albums - Groovezilla</title>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="../../assets/images/logo.svg" alt="Groovezilla Logo" class="app-logo">
                <h1 class="app-name">Groovezilla</h1>
            </div>

            <!-- Main Navigation -->
            <nav class="main-nav">
                <h3 class="nav-section-title">Menu</h3>
                <a href="../../index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="playlist.html" class="nav-link">
                    <i class="fas fa-list-ul"></i>
                    <span>Playlists</span>
                </a>
                <a href="album.html" class="nav-link active">
                    <i class="fas fa-compact-disc"></i>
                    <span>Albums</span>
                </a>
            </nav>

            <!-- Discovery Section -->
            <nav class="main-nav">
                <h3 class="nav-section-title">Discovery</h3>
                <a href="discovery.html" class="nav-link">
                    <i class="fas fa-fire"></i>
                    <span>Trending</span>
                </a>
                <a href="artist.html" class="nav-link">
                    <i class="fas fa-microphone"></i>
                    <span>Artists</span>
                </a>
                <a href="history.html" class="nav-link">
                    <i class="fas fa-history"></i>
                    <span>History</span>
                </a>
                <a href="favorites.html" class="nav-link">
                    <i class="fas fa-heart"></i>
                    <span>Favorites</span>
                </a>
            </nav>

            <!-- My Playlists -->
            <nav class="main-nav">
                <h3 class="nav-section-title">My Playlists</h3>
                <a href="#" class="nav-link playlist-item">
                    <i class="fas fa-heart" style="color: #ff6b6b;"></i>
                    <span>Love</span>
                </a>
                <a href="#" class="nav-link playlist-item">
                    <i class="fas fa-bolt" style="color: #4ecdc4;"></i>
                    <span>Electro</span>
                </a>
                <a href="#" class="nav-link playlist-item">
                    <i class="fas fa-music" style="color: #a29bfe;"></i>
                    <span>Funk</span>
                </a>
                <a href="#" class="nav-link playlist-item">
                    <i class="fas fa-headphones" style="color: #feca57;"></i>
                    <span>EDM</span>
                </a>
            </nav>

            <!-- Settings -->
            <div class="sidebar-footer">
                <a href="admin.html" class="nav-link">
                    <i class="fas fa-crown"></i>
                    <span>Admin</span>
                </a>
                <a href="settings.html" class="nav-link">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="top-header">
                <div class="search-container">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search for artists, songs or albums...">
                </div>
                <div class="header-actions">
                    <button class="btn-download">
                        <i class="fas fa-download"></i>
                        Download Now
                    </button>
                    <div class="user-menu">
                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40&h=40&fit=crop&crop=faces" alt="User" class="user-avatar">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </header>

            <!-- Album Hero Section with Parallax Effect -->
            <div class="album-hero-modern" id="albumHero">
                <div class="album-hero-bg" id="heroBg">
                    <img src="https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=1600&h=800&fit=crop" alt="Album Background">
                    <div class="hero-gradient"></div>
                </div>
                <div class="album-hero-content-modern">
                    <div class="album-artwork" data-aos="zoom-in">
                        <img src="https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=300&h=300&fit=crop" alt="Album Cover">
                        <div class="artwork-glow"></div>
                    </div>
                    <div class="album-info-modern" data-aos="fade-left">
                        <span class="album-badge">ALBUM</span>
                        <h1 class="album-title-modern">Midnight Dreams</h1>
                        <div class="album-meta-modern">
                            <a href="artist.html" class="artist-name-link">
                                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=32&h=32&fit=crop&crop=faces" alt="Artist" class="artist-thumb">
                                Luna Eclipse
                            </a>
                            <span class="meta-dot">•</span>
                            <span>2024</span>
                            <span class="meta-dot">•</span>
                            <span>12 tracks</span>
                            <span class="meta-dot">•</span>
                            <span>48 min</span>
                        </div>
                        <div class="album-stats">
                            <div class="stat-item">
                                <i class="fas fa-play-circle"></i>
                                <span>1.2M plays</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-heart"></i>
                                <span>234K likes</span>
                            </div>
                        </div>
                        <div class="album-actions-modern">
                            <button class="btn-play-all" id="playAllBtn">
                                <i class="fas fa-play"></i>
                                <span>Play All</span>
                            </button>
                            <button class="btn-shuffle" id="shuffleBtn">
                                <i class="fas fa-random"></i>
                            </button>
                            <button class="btn-like" id="likeAlbumBtn">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-share" id="shareBtn">
                                <i class="fas fa-share-alt"></i>
                            </button>
                            <button class="btn-more">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track List with Animated Rows -->
            <div class="album-tracklist-modern">
                <div class="tracklist-header-modern">
                    <h2>Tracks</h2>
                    <div class="tracklist-controls">
                        <button class="btn-filter active" data-filter="all">All</button>
                        <button class="btn-filter" data-filter="popular">Popular</button>
                        <button class="btn-filter" data-filter="recent">Recent</button>
                    </div>
                </div>
                
                <div class="tracks-grid" id="tracksList">
                    <div class="track-row" data-track-id="1" data-aos="fade-up" data-aos-delay="100">
                        <div class="track-number-play">
                            <span class="track-num">1</span>
                            <button class="track-play-btn-modern">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="track-info-modern">
                            <img src="https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=56&h=56&fit=crop" alt="Track" class="track-thumb">
                            <div class="track-text">
                                <h4 class="track-title-modern">Midnight Dreams</h4>
                                <p class="track-artist-modern">Luna Eclipse</p>
                            </div>
                        </div>
                        <div class="track-popularity">
                            <div class="popularity-bar">
                                <div class="popularity-fill" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="track-duration-modern">4:32</div>
                        <div class="track-actions-modern">
                            <button class="btn-track-like" data-track="1">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-track-add" data-track="1">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>

                    <div class="track-row" data-track-id="2" data-aos="fade-up" data-aos-delay="150">
                        <div class="track-number-play">
                            <span class="track-num">2</span>
                            <button class="track-play-btn-modern">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="track-info-modern">
                            <img src="https://images.unsplash.com/photo-1619983081563-430f63602796?w=56&h=56&fit=crop" alt="Track" class="track-thumb">
                            <div class="track-text">
                                <h4 class="track-title-modern">Summer Breeze</h4>
                                <p class="track-artist-modern">Luna Eclipse</p>
                            </div>
                        </div>
                        <div class="track-popularity">
                            <div class="popularity-bar">
                                <div class="popularity-fill" style="width: 92%"></div>
                            </div>
                        </div>
                        <div class="track-duration-modern">3:45</div>
                        <div class="track-actions-modern">
                            <button class="btn-track-like" data-track="2">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-track-add" data-track="2">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>

                    <div class="track-row" data-track-id="3" data-aos="fade-up" data-aos-delay="200">
                        <div class="track-number-play">
                            <span class="track-num">3</span>
                            <button class="track-play-btn-modern">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="track-info-modern">
                            <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?w=56&h=56&fit=crop" alt="Track" class="track-thumb">
                            <div class="track-text">
                                <h4 class="track-title-modern">Electric Pulse</h4>
                                <p class="track-artist-modern">Luna Eclipse</p>
                            </div>
                        </div>
                        <div class="track-popularity">
                            <div class="popularity-bar">
                                <div class="popularity-fill" style="width: 78%"></div>
                            </div>
                        </div>
                        <div class="track-duration-modern">5:12</div>
                        <div class="track-actions-modern">
                            <button class="btn-track-like" data-track="3">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-track-add" data-track="3">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>

                    <div class="track-row" data-track-id="4" data-aos="fade-up" data-aos-delay="250">
                        <div class="track-number-play">
                            <span class="track-num">4</span>
                            <button class="track-play-btn-modern">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="track-info-modern">
                            <img src="https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=56&h=56&fit=crop" alt="Track" class="track-thumb">
                            <div class="track-text">
                                <h4 class="track-title-modern">Acoustic Dreams</h4>
                                <p class="track-artist-modern">Luna Eclipse</p>
                            </div>
                        </div>
                        <div class="track-popularity">
                            <div class="popularity-bar">
                                <div class="popularity-fill" style="width: 65%"></div>
                            </div>
                        </div>
                        <div class="track-duration-modern">4:18</div>
                        <div class="track-actions-modern">
                            <button class="btn-track-like" data-track="4">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-track-add" data-track="4">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>

                    <div class="track-row" data-track-id="5" data-aos="fade-up" data-aos-delay="300">
                        <div class="track-number-play">
                            <span class="track-num">5</span>
                            <button class="track-play-btn-modern">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="track-info-modern">
                            <img src="https://images.unsplash.com/photo-1509114397022-ed747cca3f65?w=56&h=56&fit=crop" alt="Track" class="track-thumb">
                            <div class="track-text">
                                <h4 class="track-title-modern">Urban Flow</h4>
                                <p class="track-artist-modern">Luna Eclipse</p>
                            </div>
                        </div>
                        <div class="track-popularity">
                            <div class="popularity-bar">
                                <div class="popularity-fill" style="width: 88%"></div>
                            </div>
                        </div>
                        <div class="track-duration-modern">3:56</div>
                        <div class="track-actions-modern">
                            <button class="btn-track-like" data-track="5">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-track-add" data-track="5">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>

                    <div class="track-row" data-track-id="6" data-aos="fade-up" data-aos-delay="350">
                        <div class="track-number-play">
                            <span class="track-num">6</span>
                            <button class="track-play-btn-modern">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="track-info-modern">
                            <img src="https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=56&h=56&fit=crop" alt="Track" class="track-thumb">
                            <div class="track-text">
                                <h4 class="track-title-modern">Jazz Nights</h4>
                                <p class="track-artist-modern">Luna Eclipse</p>
                            </div>
                        </div>
                        <div class="track-popularity">
                            <div class="popularity-bar">
                                <div class="popularity-fill" style="width: 72%"></div>
                            </div>
                        </div>
                        <div class="track-duration-modern">4:42</div>
                        <div class="track-actions-modern">
                            <button class="btn-track-like" data-track="6">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-track-add" data-track="6">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carousel: More from Artist -->
            <div class="carousel-section" data-aos="fade-up">
                <div class="section-header-carousel">
                    <h2>More from Luna Eclipse</h2>
                    <div class="carousel-nav">
                        <button class="carousel-btn prev" id="moreAlbumsPrev">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="carousel-btn next" id="moreAlbumsNext">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="carousel-container" id="moreAlbumsCarousel">
                    <div class="carousel-track">
                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1619983081563-430f63602796?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Summer Nights</h3>
                                <p>2023 • 10 tracks</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Electric Dreams</h3>
                                <p>2022 • 14 tracks</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Acoustic Sessions</h3>
                                <p>2023 • 8 tracks</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1509114397022-ed747cca3f65?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Urban Tales</h3>
                                <p>2021 • 12 tracks</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Rock Legends</h3>
                                <p>2020 • 15 tracks</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carousel: Similar Albums -->
            <div class="carousel-section" data-aos="fade-up">
                <div class="section-header-carousel">
                    <h2>Similar Albums You Might Like</h2>
                    <div class="carousel-nav">
                        <button class="carousel-btn prev" id="similarAlbumsPrev">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="carousel-btn next" id="similarAlbumsNext">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="carousel-container" id="similarAlbumsCarousel">
                    <div class="carousel-track">
                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Pop Classics</h3>
                                <p>Various Artists</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Jazz Moods</h3>
                                <p>Miles Davis</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Electronic Waves</h3>
                                <p>DJ Nova</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Midnight Vibes</h3>
                                <p>The Night Owls</p>
                            </div>
                        </div>

                        <div class="album-card-carousel">
                            <div class="album-card-image">
                                <img src="https://images.unsplash.com/photo-1619983081563-430f63602796?w=300&h=300&fit=crop" alt="Album">
                                <div class="album-card-overlay">
                                    <button class="btn-play-card">
                                        <i class="fas fa-play"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="album-card-content">
                                <h3>Sunset Dreams</h3>
                                <p>Luna Eclipse</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- HLS.js Library (Cloudflare CDN - Latest Stable) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/1.5.17/hls.min.js" 
            integrity="sha512-h9FfLdJh6hDxVmOV2/qLAqfLGIB9EfLLuJcHrPOYfqh1+Xj0EpkXv4xRp/3iAKlGqdjLJnBwYv6T7rIYtq3xBA==" 
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <!-- Audio Player Script -->
    <script src="../../src/scripts/audio-player.js"></script>

    <!-- Album Page Interactive JavaScript -->
    <script>
        // Initialize AOS (Animate On Scroll) - Pure JS version
        document.addEventListener('DOMContentLoaded', function() {
            // Simple scroll animation
            const animateOnScroll = () => {
                const elements = document.querySelectorAll('[data-aos]');
                elements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    const isVisible = rect.top < window.innerHeight - 100;
                    if (isVisible) {
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }
                });
            };

            // Set initial state
            document.querySelectorAll('[data-aos]').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            });

            window.addEventListener('scroll', animateOnScroll);
            animateOnScroll(); // Initial check

            // Parallax Effect for Hero Background
            const heroBg = document.getElementById('heroBg');
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                if (heroBg) {
                    heroBg.style.transform = `translateY(${scrolled * 0.5}px)`;
                }
            });

            // Play All Button
            const playAllBtn = document.getElementById('playAllBtn');
            if (playAllBtn) {
                playAllBtn.addEventListener('click', function() {
                    this.classList.add('playing');
                    setTimeout(() => this.classList.remove('playing'), 300);
                    console.log('Playing all tracks...');
                });
            }

            // Shuffle Button
            const shuffleBtn = document.getElementById('shuffleBtn');
            if (shuffleBtn) {
                shuffleBtn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    console.log('Shuffle toggled');
                });
            }

            // Like Album Button
            const likeAlbumBtn = document.getElementById('likeAlbumBtn');
            if (likeAlbumBtn) {
                likeAlbumBtn.addEventListener('click', function() {
                    const icon = this.querySelector('i');
                    if (icon.classList.contains('far')) {
                        icon.classList.remove('far');
                        icon.classList.add('fas');
                        this.style.color = 'var(--primary-accent)';
                    } else {
                        icon.classList.remove('fas');
                        icon.classList.add('far');
                        this.style.color = '';
                    }
                });
            }

            // Share Button
            const shareBtn = document.getElementById('shareBtn');
            if (shareBtn) {
                shareBtn.addEventListener('click', function() {
                    alert('Share functionality: Copy link to clipboard!');
                });
            }

            // Track Row Hover Effects
            const trackRows = document.querySelectorAll('.track-row');
            trackRows.forEach(row => {
                const playBtn = row.querySelector('.track-play-btn-modern');
                const trackNum = row.querySelector('.track-num');

                row.addEventListener('mouseenter', function() {
                    if (playBtn && trackNum) {
                        trackNum.style.opacity = '0';
                        playBtn.style.opacity = '1';
                    }
                });

                row.addEventListener('mouseleave', function() {
                    if (playBtn && trackNum && !row.classList.contains('playing')) {
                        trackNum.style.opacity = '1';
                        playBtn.style.opacity = '0';
                    }
                });

                // Play button click
                if (playBtn) {
                    playBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        
                        // Remove playing state from all tracks
                        trackRows.forEach(r => r.classList.remove('playing'));
                        
                        // Add playing state to clicked track
                        row.classList.add('playing');
                        trackNum.style.opacity = '0';
                        playBtn.style.opacity = '1';
                        
                        const icon = playBtn.querySelector('i');
                        if (icon.classList.contains('fa-play')) {
                            icon.classList.remove('fa-play');
                            icon.classList.add('fa-pause');
                        } else {
                            icon.classList.remove('fa-pause');
                            icon.classList.add('fa-play');
                        }
                    });
                }
            });

            // Track Like Buttons
            const trackLikeBtns = document.querySelectorAll('.btn-track-like');
            trackLikeBtns.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const icon = this.querySelector('i');
                    if (icon.classList.contains('far')) {
                        icon.classList.remove('far');
                        icon.classList.add('fas');
                        this.style.color = '#ff4757';
                        this.style.transform = 'scale(1.2)';
                        setTimeout(() => this.style.transform = 'scale(1)', 200);
                    } else {
                        icon.classList.remove('fas');
                        icon.classList.add('far');
                        this.style.color = '';
                    }
                });
            });

            // Track Add Buttons
            const trackAddBtns = document.querySelectorAll('.btn-track-add');
            trackAddBtns.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    this.style.transform = 'rotate(90deg) scale(1.1)';
                    setTimeout(() => this.style.transform = '', 300);
                    console.log('Added to playlist');
                });
            });

            // Filter Buttons
            const filterBtns = document.querySelectorAll('.btn-filter');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    console.log('Filter:', this.dataset.filter);
                });
            });

            // Carousel Functionality
            class Carousel {
                constructor(carouselId, prevBtnId, nextBtnId) {
                    this.carousel = document.getElementById(carouselId);
                    this.track = this.carousel?.querySelector('.carousel-track');
                    this.prevBtn = document.getElementById(prevBtnId);
                    this.nextBtn = document.getElementById(nextBtnId);
                    this.currentIndex = 0;
                    this.cardsPerView = this.getCardsPerView();
                    this.totalCards = this.track?.children.length || 0;

                    if (this.carousel && this.track) {
                        this.init();
                    }
                }

                getCardsPerView() {
                    const width = window.innerWidth;
                    if (width >= 1400) return 4;
                    if (width >= 1024) return 3;
                    if (width >= 768) return 2;
                    return 1;
                }

                init() {
                    this.updateCarousel();
                    
                    if (this.prevBtn) {
                        this.prevBtn.addEventListener('click', () => this.prev());
                    }
                    
                    if (this.nextBtn) {
                        this.nextBtn.addEventListener('click', () => this.next());
                    }

                    // Touch/Swipe support
                    let startX = 0;
                    let isDragging = false;

                    this.track.addEventListener('mousedown', (e) => {
                        startX = e.pageX;
                        isDragging = true;
                        this.track.style.cursor = 'grabbing';
                    });

                    this.track.addEventListener('mousemove', (e) => {
                        if (!isDragging) return;
                        e.preventDefault();
                    });

                    this.track.addEventListener('mouseup', (e) => {
                        if (!isDragging) return;
                        isDragging = false;
                        this.track.style.cursor = 'grab';
                        
                        const endX = e.pageX;
                        const diff = startX - endX;
                        
                        if (Math.abs(diff) > 50) {
                            if (diff > 0) this.next();
                            else this.prev();
                        }
                    });

                    this.track.addEventListener('mouseleave', () => {
                        isDragging = false;
                        this.track.style.cursor = 'grab';
                    });

                    // Resize handler
                    window.addEventListener('resize', () => {
                        this.cardsPerView = this.getCardsPerView();
                        this.updateCarousel();
                    });
                }

                updateCarousel() {
                    const cardWidth = this.track.children[0]?.offsetWidth || 0;
                    const gap = 24; // 24px gap between cards
                    const offset = -(this.currentIndex * (cardWidth + gap));
                    this.track.style.transform = `translateX(${offset}px)`;

                    // Update button states
                    if (this.prevBtn) {
                        this.prevBtn.disabled = this.currentIndex === 0;
                        this.prevBtn.style.opacity = this.currentIndex === 0 ? '0.3' : '1';
                    }

                    if (this.nextBtn) {
                        const maxIndex = Math.max(0, this.totalCards - this.cardsPerView);
                        this.nextBtn.disabled = this.currentIndex >= maxIndex;
                        this.nextBtn.style.opacity = this.currentIndex >= maxIndex ? '0.3' : '1';
                    }
                }

                next() {
                    const maxIndex = Math.max(0, this.totalCards - this.cardsPerView);
                    if (this.currentIndex < maxIndex) {
                        this.currentIndex++;
                        this.updateCarousel();
                    }
                }

                prev() {
                    if (this.currentIndex > 0) {
                        this.currentIndex--;
                        this.updateCarousel();
                    }
                }
            }

            // Initialize Carousels
            const moreAlbumsCarousel = new Carousel('moreAlbumsCarousel', 'moreAlbumsPrev', 'moreAlbumsNext');
            const similarAlbumsCarousel = new Carousel('similarAlbumsCarousel', 'similarAlbumsPrev', 'similarAlbumsNext');

            // Album Card Hover Effects
            const albumCards = document.querySelectorAll('.album-card-carousel');
            albumCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px)';
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });

                const playBtn = card.querySelector('.btn-play-card');
                if (playBtn) {
                    playBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        this.style.transform = 'scale(1.1)';
                        setTimeout(() => this.style.transform = 'scale(1)', 200);
                        console.log('Playing album...');
                    });
                }
            });

            // Smooth scroll reveal animation
            let lastScroll = 0;
            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                
                // Add scroll direction class to body
                if (currentScroll > lastScroll) {
                    document.body.classList.add('scroll-down');
                    document.body.classList.remove('scroll-up');
                } else {
                    document.body.classList.add('scroll-up');
                    document.body.classList.remove('scroll-down');
                }
                
                lastScroll = currentScroll;
            });

            console.log('Album page initialized with all interactive features!');
        });
    </script>
</body>
</html>